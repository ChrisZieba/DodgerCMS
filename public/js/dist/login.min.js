/*! dodgercms 0.0.2 2016-06-26 */
$(function(){"use strict";function autofill(){$("#login-form-access-key").val(localStorage.getItem("dodgercms-access-key-id")||""),$("#login-form-access-secret").val(localStorage.getItem("dodgercms-secret-access-key")||""),$("#login-form-data-bucket").val(localStorage.getItem("dodgercms-data-bucket")||""),$("#login-form-assets-bucket").val(localStorage.getItem("dodgercms-assets-bucket")||""),$("#login-form-site-bucket").val(localStorage.getItem("dodgercms-site-bucket")||""),$("#login-form-region").val(localStorage.getItem("dodgercms-region")||"us-east-1")}autofill(),$("#login-form").submit(function(event){event.preventDefault();var accessKey=$.trim($("#login-form-access-key").val()),accessSecret=$.trim($("#login-form-access-secret").val()),dataBucket=$.trim($("#login-form-data-bucket").val()),assetsBucket=$.trim($("#login-form-assets-bucket").val()),siteBucket=$.trim($("#login-form-site-bucket").val()),region=$.trim($("#login-form-region").val()),remember=$("#login-remember").is(":checked");if(""===accessKey||""===accessSecret||""===dataBucket||""===assetsBucket||""===siteBucket)return void alert("All fields are required.");var params={dataBucket:dataBucket,assetsBucket:assetsBucket,siteBucket:siteBucket,accessKey:accessKey,accessSecret:accessSecret,region:region,remember:remember};$.blockUI({css:{border:"none","font-size":"90%",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:.5,color:"#fff"}}),dodgercms.auth.login(params,function(err,data){$.unblockUI(),err?alert(err):window.location.replace(location.protocol+"//"+location.host)})})});